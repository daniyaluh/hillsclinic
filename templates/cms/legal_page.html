{% extends "base.html" %}
{% load wagtailcore_tags %}

{% block title %}{{ page.title }} - Hills Clinic{% endblock %}

{% block content %}
<!-- Hero -->
<section class="bg-gradient-to-br from-stone-900 via-stone-800 to-stone-900 text-white py-16">
    <div class="container mx-auto px-4">
        <h1 class="text-4xl md:text-5xl font-serif font-bold mb-4">{{ page.title }}</h1>
        <p class="text-stone-300">Last updated: {{ page.last_updated }}</p>
    </div>
</section>

<!-- Table of Contents + Content -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-5xl mx-auto flex flex-col lg:flex-row gap-12">
            
            <!-- Table of Contents (Sidebar) -->
            {% if sections %}
            <aside class="lg:w-64 flex-shrink-0">
                <div class="lg:sticky lg:top-24">
                    <h2 class="text-sm font-semibold text-stone-500 uppercase tracking-wider mb-4">On This Page</h2>
                    <nav class="space-y-2">
                        {% for section in sections %}
                        <a href="#{{ section.section_id }}" class="block text-stone-600 hover:text-amber-600 transition text-sm py-1 border-l-2 border-transparent hover:border-amber-500 pl-3">
                            {{ section.title }}
                        </a>
                        {% endfor %}
                    </nav>
                </div>
            </aside>
            {% endif %}
            
            <!-- Main Content -->
            <div class="flex-1 min-w-0">
                {% if sections %}
                <div class="space-y-12">
                    {% for section in sections %}
                    <article id="{{ section.section_id }}" class="scroll-mt-24">
                        <h2 class="text-2xl font-serif font-bold text-stone-900 mb-4 pb-2 border-b border-stone-200">
                            {{ section.title }}
                        </h2>
                        <div class="prose prose-stone max-w-none prose-headings:text-stone-900 prose-a:text-amber-600 prose-a:no-underline hover:prose-a:underline">
                            {{ section.content|richtext }}
                        </div>
                    </article>
                    {% endfor %}
                </div>
                {% else %}
                <!-- Empty State -->
                <div class="text-center py-16">
                    <svg class="w-16 h-16 text-stone-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                    <h3 class="text-xl font-semibold text-stone-900 mb-2">Content coming soon</h3>
                    <p class="text-stone-600">This policy page is being updated. Please check back later.</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="py-16 bg-stone-50 border-t border-stone-200">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-2xl font-serif font-bold text-stone-900 mb-4">Questions About This Policy?</h2>
        <p class="text-stone-600 mb-8 max-w-xl mx-auto">If you have any questions about this {{ page.title|lower }}, please don't hesitate to contact us.</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'booking:contact' %}" class="inline-flex items-center justify-center px-8 py-4 bg-amber-600 text-white font-semibold rounded-full hover:bg-amber-700 transition-all shadow-lg shadow-amber-600/25">
                Contact Us
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                </svg>
            </a>
            <a href="mailto:privacy@hillsclinic.com" class="inline-flex items-center justify-center px-8 py-4 bg-white border-2 border-stone-300 text-stone-700 font-semibold rounded-full hover:border-stone-400 transition-all">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
                privacy@hillsclinic.com
            </a>
        </div>
    </div>
</section>

<!-- Other Legal Pages -->
<section class="py-12 bg-white border-t border-stone-200">
    <div class="container mx-auto px-4">
        <h3 class="text-center text-lg font-semibold text-stone-900 mb-6">Other Legal Documents</h3>
        <div class="flex flex-wrap justify-center gap-4">
            {% if page_type != 'privacy' %}
            <a href="{% url 'cms:privacy' %}" class="px-5 py-2 bg-stone-100 text-stone-700 rounded-full hover:bg-stone-200 transition text-sm font-medium">
                Privacy Policy
            </a>
            {% endif %}
            {% if page_type != 'terms' %}
            <a href="{% url 'cms:terms' %}" class="px-5 py-2 bg-stone-100 text-stone-700 rounded-full hover:bg-stone-200 transition text-sm font-medium">
                Terms of Service
            </a>
            {% endif %}
            {% if page_type != 'cookies' %}
            <a href="{% url 'cms:cookies' %}" class="px-5 py-2 bg-stone-100 text-stone-700 rounded-full hover:bg-stone-200 transition text-sm font-medium">
                Cookie Policy
            </a>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
